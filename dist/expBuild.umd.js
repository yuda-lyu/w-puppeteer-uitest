/*!
 * expBuild v1.0.29
 * (c) 2018-2019 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("bluebird"),require("fs"),require("puppeteer")):"function"==typeof define&&define.amd?define(["bluebird","fs","puppeteer"],t):(e=e||self).expBuild=t(e.bluebird,e.fs,e.puppeteer)}(this,(function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,r=r&&r.hasOwnProperty("default")?r.default:r;var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var o=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=function(e){var t,r=Object.prototype,a=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(e,t,r,n){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),i=new E(n||[]);return o._invoke=function(e,t,r){var n=f;return function(a,o){if(n===h)throw new Error("Generator is already running");if(n===v){if("throw"===a)throw o;return $()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=j(i,r);if(c){if(c===w)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var u=l(e,t,r);if("normal"===u.type){if(n=r.done?v:p,u.arg===w)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=v,r.method="throw",r.arg=u.arg)}}}(e,r,i),o}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f="suspendedStart",p="suspendedYield",h="executing",v="completed",w={};function y(){}function d(){}function x(){}var b={};b[i]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(L([])));m&&m!==r&&a.call(m,i)&&(b=m);var _=x.prototype=y.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function F(e){var t;this._invoke=function(r,o){function i(){return new Promise((function(t,i){!function t(r,o,i,c){var u=l(e[r],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"===n(f)&&a.call(f,"__await")?Promise.resolve(f.__await).then((function(e){t("next",e,i,c)}),(function(e){t("throw",e,i,c)})):Promise.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return t("throw",e,i,c)}))}c(u.arg)}(r,o,t,i)}))}return t=t?t.then(i,i):i()}}function j(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method))return w;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}var a=l(n,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,w;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,w):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,w)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function r(){for(;++n<e.length;)if(a.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:$}}function $(){return{value:t,done:!0}}return d.prototype=_.constructor=x,x.constructor=d,x[u]=d.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},k(F.prototype),F.prototype[c]=function(){return this},e.AsyncIterator=F,e.async=function(t,r,n,a){var o=new F(s(t,r,n,a));return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(_),_[u]="Generator",_[i]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,a){return c.type="throw",c.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,w):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;S(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),w}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}})),i=Array.isArray,c="object"==n(a)&&a&&a.Object===Object&&a,u="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,s=c||u||Function("return this")(),l=s.Symbol,f=Object.prototype,p=f.hasOwnProperty,h=f.toString,v=l?l.toStringTag:void 0;var w=function(e){var t=p.call(e,v),r=e[v];try{e[v]=void 0;var n=!0}catch(e){}var a=h.call(e);return n&&(t?e[v]=r:delete e[v]),a},y=Object.prototype.toString;var d=function(e){return y.call(e)},x="[object Null]",b="[object Undefined]",g=l?l.toStringTag:void 0;var m=function(e){return null==e?void 0===e?b:x:g&&g in Object(e)?w(e):d(e)};var _=function(e){return null!=e&&"object"==n(e)},k="[object Symbol]";var F=function(e){return"symbol"==n(e)||_(e)&&m(e)==k},j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/;var S=function(e,t){if(i(e))return!1;var r=n(e);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!F(e))||(O.test(e)||!j.test(e)||null!=t&&e in Object(t))};var E=function(e){var t=n(e);return null!=e&&("object"==t||"function"==t)},L="[object AsyncFunction]",$="[object Function]",P="[object GeneratorFunction]",N="[object Proxy]";var z,T=function(e){if(!E(e))return!1;var t=m(e);return t==$||t==P||t==L||t==N},C=s["__core-js_shared__"],A=(z=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"";var G=function(e){return!!A&&A in e},B=Function.prototype.toString;var I=function(e){if(null!=e){try{return B.call(e)}catch(e){}try{return e+""}catch(e){}}return""},M=/^\[object .+?Constructor\]$/,R=Function.prototype,q=Object.prototype,U=R.toString,V=q.hasOwnProperty,Y=RegExp("^"+U.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var D=function(e){return!(!E(e)||G(e))&&(T(e)?Y:M).test(I(e))};var H=function(e,t){return null==e?void 0:e[t]};var J=function(e,t){var r=H(e,t);return D(r)?r:void 0},K=J(Object,"create");var Q=function(){this.__data__=K?K(null):{},this.size=0};var W=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},X="__lodash_hash_undefined__",Z=Object.prototype.hasOwnProperty;var ee=function(e){var t=this.__data__;if(K){var r=t[e];return r===X?void 0:r}return Z.call(t,e)?t[e]:void 0},te=Object.prototype.hasOwnProperty;var re=function(e){var t=this.__data__;return K?void 0!==t[e]:te.call(t,e)},ne="__lodash_hash_undefined__";var ae=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=K&&void 0===t?ne:t,this};function oe(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}oe.prototype.clear=Q,oe.prototype.delete=W,oe.prototype.get=ee,oe.prototype.has=re,oe.prototype.set=ae;var ie=oe;var ce=function(){this.__data__=[],this.size=0};var ue=function(e,t){return e===t||e!=e&&t!=t};var se=function(e,t){for(var r=e.length;r--;)if(ue(e[r][0],t))return r;return-1},le=Array.prototype.splice;var fe=function(e){var t=this.__data__,r=se(t,e);return!(r<0)&&(r==t.length-1?t.pop():le.call(t,r,1),--this.size,!0)};var pe=function(e){var t=this.__data__,r=se(t,e);return r<0?void 0:t[r][1]};var he=function(e){return se(this.__data__,e)>-1};var ve=function(e,t){var r=this.__data__,n=se(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function we(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}we.prototype.clear=ce,we.prototype.delete=fe,we.prototype.get=pe,we.prototype.has=he,we.prototype.set=ve;var ye=we,de=J(s,"Map");var xe=function(){this.size=0,this.__data__={hash:new ie,map:new(de||ye),string:new ie}};var be=function(e){var t=n(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var ge=function(e,t){var r=e.__data__;return be(t)?r["string"==typeof t?"string":"hash"]:r.map};var me=function(e){var t=ge(this,e).delete(e);return this.size-=t?1:0,t};var _e=function(e){return ge(this,e).get(e)};var ke=function(e){return ge(this,e).has(e)};var Fe=function(e,t){var r=ge(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function je(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}je.prototype.clear=xe,je.prototype.delete=me,je.prototype.get=_e,je.prototype.has=ke,je.prototype.set=Fe;var Oe=je,Se="Expected a function";function Ee(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Se);var r=function r(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(Ee.Cache||Oe),r}Ee.Cache=Oe;var Le=Ee,$e=500;var Pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ne=/\\(\\)?/g,ze=function(e){var t=Le(e,(function(e){return r.size===$e&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Pe,(function(e,r,n,a){t.push(n?a.replace(Ne,"$1"):r||e)})),t}));var Te=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a},Ce=1/0,Ae=l?l.prototype:void 0,Ge=Ae?Ae.toString:void 0;var Be=function e(t){if("string"==typeof t)return t;if(i(t))return Te(t,e)+"";if(F(t))return Ge?Ge.call(t):"";var r=t+"";return"0"==r&&1/t==-Ce?"-0":r};var Ie=function(e){return null==e?"":Be(e)};var Me=function(e,t){return i(e)?e:S(e,t)?[e]:ze(Ie(e))},Re=1/0;var qe=function(e){if("string"==typeof e||F(e))return e;var t=e+"";return"0"==t&&1/e==-Re?"-0":t};var Ue=function(e,t){for(var r=0,n=(t=Me(t,e)).length;null!=e&&r<n;)e=e[qe(t[r++])];return r&&r==n?e:void 0};var Ve=function(e,t,r){var n=null==e?void 0:Ue(e,t);return void 0===n?r:n},Ye=NaN,De=/^\s+|\s+$/g,He=/^[-+]0x[0-9a-f]+$/i,Je=/^0b[01]+$/i,Ke=/^0o[0-7]+$/i,Qe=parseInt;var We=function(e){if("number"==typeof e)return e;if(F(e))return Ye;if(E(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=E(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(De,"");var r=Je.test(e);return r||Ke.test(e)?Qe(e.slice(2),r?2:8):He.test(e)?Ye:+e},Xe=1/0,Ze=17976931348623157e292;var et=function(e){return e?(e=We(e))===Xe||e===-Xe?(e<0?-1:1)*Ze:e==e?e:0:0===e?e:0};var tt=function(e){var t=et(e),r=t%1;return t==t?r?t-r:t:0};var rt=function(e){return"number"==typeof e&&e==tt(e)};function nt(e){return"[object String]"===Object.prototype.toString.call(e)}function at(e){var t=!1;return!function(e){return!(!nt(e)||""===e)}(e)?function(e){return"[object Number]"===Object.prototype.toString.call(e)}(e)&&(t=!0):t=!isNaN(Number(e)),t}function ot(e){return at(e)?et(e):0}function it(e){return!!at(e)&&(e=ot(e),rt(e))}var ct=s.isFinite,ut=Math.min;var st=function(e){var t=Math[e];return function(e,r){if(e=We(e),(r=null==r?0:ut(tt(r),292))&&ct(e)){var n=(Ie(e)+"e").split("e"),a=t(n[0]+"e"+(+n[1]+r));return+((n=(Ie(a)+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}("round");function lt(e){if(!at(e))return 0;e=ot(e);var t=st(e);return"0"===String(t)?0:t}function ft(e){return"[object Object]"===Object.prototype.toString.call(e)}function pt(e){return"[object Array]"===Object.prototype.toString.call(e)}var ht="[object Boolean]";var vt=function(e){return!0===e||!1===e||_(e)&&m(e)==ht};function wt(e){return!!function(e){return"[object Undefined]"===Object.prototype.toString.call(e)}(e)||(!!function(e){return"[object Null]"===Object.prototype.toString.call(e)}(e)||(!!function(e){if(ft(e)){for(var t in e)return!1;return!0}return!1}(e)||(!!function(e){return!(!nt(e)||""!==e)}(e)||!!function(e){return!!pt(e)&&0===e.length}(e))))}function yt(t){var n,a,i,c,u,s,l,f,p,h,v=arguments;return o.async((function(w){for(;;)switch(w.prev=w.next){case 0:return p=function(e){var t,r,n,a,i=arguments;return o.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==(t=lt(t=i.length>1&&void 0!==i[1]?i[1]:0))){c.next=11;break}return c.next=5,o.awrap(f.$(e));case 5:if(!wt(r=c.sent)){c.next=9;break}return console.log("page.$ get no result: "+e),c.abrupt("return",null);case 9:c.next=18;break;case 11:return c.next=13,o.awrap(f.$$(e));case 13:if(0!==(n=c.sent).length){c.next=17;break}return console.log("page.$$ get no result: "+e),c.abrupt("return",null);case 17:r=t<0?n[n.length+t]:n[t];case 18:if(!wt(r)){c.next=21;break}return console.log("invalid ele: "+e),c.abrupt("return",null);case 21:if(!wt(r.boundingBox)){c.next=24;break}return console.log("invalid ele.boundingBox: "+e),c.abrupt("return",null);case 24:return c.next=26,o.awrap(r.boundingBox());case 26:return(a=c.sent).cx=a.x+a.width/2,a.cy=a.y+a.height/2,a.ele=r,c.abrupt("return",a);case 31:case"end":return c.stop()}}))},n=v.length>1&&void 0!==v[1]?v[1]:{},a=Ve(n,"headless"),vt(a)||(a=!0),ft(i=Ve(n,"viewport"))||(i={x:0,y:0,width:800,height:600}),pt(c=Ve(n,"actions"))||(c=[]),it(u=Ve(n,"waitsec"))||(u=5),s={headless:a,slowMo:20},w.next=13,o.awrap(r.launch(s));case 13:return l=w.sent,w.next=16,o.awrap(l.newPage());case 16:return f=w.sent,w.next=19,o.awrap(f.goto(t));case 19:return w.next=21,o.awrap(f.setViewport(i));case 21:return w.next=23,o.awrap(f.waitFor(1e3*u));case 23:return w.next=25,o.awrap(e.mapSeries(c,(function(e){var t,r,n,a,i,c,u,s;return o.async((function(l){for(;;)switch(l.prev=l.next){case 0:if("wait"!==e.mode){l.next=5;break}return l.next=3,o.awrap(f.waitFor(e.time));case 3:l.next=197;break;case 5:if("resize"!==e.mode){l.next=14;break}return l.next=8,o.awrap(f.waitFor(300));case 8:return l.next=10,o.awrap(f.setViewport({x:0,y:0,width:e.width,height:e.height}));case 10:return l.next=12,o.awrap(f.waitFor(300));case 12:l.next=197;break;case 14:if("move"!==e.mode){l.next=23;break}return l.next=17,o.awrap(f.waitFor(300));case 17:return l.next=19,o.awrap(f.mouse.move(e.x1,e.y1));case 19:return l.next=21,o.awrap(f.waitFor(300));case 21:l.next=197;break;case 23:if("elemove"!==e.mode){l.next=36;break}return l.next=26,o.awrap(f.waitFor(300));case 26:return l.next=28,o.awrap(p(e.selector,e.nth));case 28:if(!(t=l.sent)){l.next=34;break}return l.next=32,o.awrap(f.mouse.move(t.cx,t.cy));case 32:return l.next=34,o.awrap(f.waitFor(300));case 34:l.next=197;break;case 36:if("elehover"!==e.mode){l.next=45;break}return l.next=39,o.awrap(f.waitFor(300));case 39:return l.next=41,o.awrap(f.hover(e.selector));case 41:return l.next=43,o.awrap(f.waitFor(300));case 43:l.next=197;break;case 45:if("drag"!==e.mode){l.next=64;break}return l.next=48,o.awrap(f.waitFor(300));case 48:return l.next=50,o.awrap(f.mouse.move(e.x1,e.y1));case 50:return l.next=52,o.awrap(f.mouse.down());case 52:return l.next=54,o.awrap(f.waitFor(300));case 54:return l.next=56,o.awrap(f.mouse.move(e.x2,e.y2,{steps:50}));case 56:return l.next=58,o.awrap(f.waitFor(300));case 58:return l.next=60,o.awrap(f.mouse.up());case 60:return l.next=62,o.awrap(f.waitFor(300));case 62:l.next=197;break;case 64:if("eledrag"!==e.mode){l.next=87;break}return l.next=67,o.awrap(f.waitFor(300));case 67:return l.next=69,o.awrap(p(e.selector,e.nth));case 69:if(!(r=l.sent)){l.next=85;break}return l.next=73,o.awrap(f.mouse.move(r.cx,r.cy));case 73:return l.next=75,o.awrap(f.mouse.down());case 75:return l.next=77,o.awrap(f.waitFor(300));case 77:return l.next=79,o.awrap(f.mouse.move(r.cx+e.shiftx,r.cy+e.shifty,{steps:50}));case 79:return l.next=81,o.awrap(f.waitFor(300));case 81:return l.next=83,o.awrap(f.mouse.up());case 83:return l.next=85,o.awrap(f.waitFor(300));case 85:l.next=197;break;case 87:if("click"!==e.mode){l.next=100;break}return l.next=90,o.awrap(f.waitFor(300));case 90:return l.next=92,o.awrap(f.mouse.move(e.x1,e.y1));case 92:return l.next=94,o.awrap(f.mouse.down());case 94:return l.next=96,o.awrap(f.mouse.up());case 96:return l.next=98,o.awrap(f.waitFor(300));case 98:l.next=197;break;case 100:if("eleclick"!==e.mode){l.next=113;break}return l.next=103,o.awrap(f.waitFor(300));case 103:return l.next=105,o.awrap(p(e.selector,e.nth));case 105:if(!(n=l.sent)){l.next=111;break}return l.next=109,o.awrap(n.ele.click());case 109:return l.next=111,o.awrap(f.waitFor(300));case 111:l.next=197;break;case 113:if("dbclick"!==e.mode){l.next=122;break}return l.next=116,o.awrap(f.waitFor(300));case 116:return l.next=118,o.awrap(f.mouse.click(e.x1,e.y1,{clickCount:2}));case 118:return l.next=120,o.awrap(f.waitFor(300));case 120:l.next=197;break;case 122:if("eledbclick"!==e.mode){l.next=135;break}return l.next=125,o.awrap(f.waitFor(300));case 125:return l.next=127,o.awrap(p(e.selector,e.nth));case 127:if(!(a=l.sent)){l.next=133;break}return l.next=131,o.awrap(a.ele.click({clickCount:2}));case 131:return l.next=133,o.awrap(f.waitFor(300));case 133:l.next=197;break;case 135:if("type"!==e.mode){l.next=147;break}return l.next=138,o.awrap(f.waitFor(300));case 138:return l.next=140,o.awrap(f.keyboard.type(e.str,{delay:50}));case 140:if(e.noEnter){l.next=143;break}return l.next=143,o.awrap(f.keyboard.type(String.fromCharCode(13)));case 143:return l.next=145,o.awrap(f.waitFor(300));case 145:l.next=197;break;case 147:if("eletype"!==e.mode){l.next=167;break}return l.next=150,o.awrap(f.waitFor(300));case 150:return l.next=152,o.awrap(p(e.selector,e.nth));case 152:if(!(i=l.sent)){l.next=165;break}return l.next=156,o.awrap(i.ele.click());case 156:return l.next=158,o.awrap(f.waitFor(50));case 158:return l.next=160,o.awrap(f.keyboard.type(e.str,{delay:50}));case 160:if(e.noEnter){l.next=163;break}return l.next=163,o.awrap(f.keyboard.type(String.fromCharCode(13)));case 163:return l.next=165,o.awrap(f.waitFor(300));case 165:l.next=197;break;case 167:if("keypress"!==e.mode){l.next=183;break}return l.next=170,o.awrap(f.waitFor(300));case 170:(c=lt(e.count))<=0&&(c=1),u=0;case 173:if(!(u<c)){l.next=179;break}return l.next=176,o.awrap(f.keyboard.press(e.key));case 176:u++,l.next=173;break;case 179:return l.next=181,o.awrap(f.waitFor(300));case 181:l.next=197;break;case 183:if("elefocus"!==e.mode){l.next=196;break}return l.next=186,o.awrap(f.waitFor(300));case 186:return l.next=188,o.awrap(p(e.selector,e.nth));case 188:if(!(s=l.sent)){l.next=194;break}return l.next=192,o.awrap(s.ele.focus());case 192:return l.next=194,o.awrap(f.waitFor(300));case 194:l.next=197;break;case 196:console.log("mode is unrecognized: "+e.mode);case 197:case"end":return l.stop()}}))})));case 25:return w.next=27,o.awrap(f.waitFor(2e3));case 27:return w.next=29,o.awrap(f.screenshot({encoding:"base64"}));case 29:return h=w.sent,w.next=32,o.awrap(f.close());case 32:return w.next=34,o.awrap(l.close());case 34:return w.abrupt("return",h);case 35:case"end":return w.stop()}}))}return function(r){var n,a,i,c,u,s=arguments;return o.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},a=Ve(n,"headless"),i=Ve(n,"viewport"),c=Ve(n,"waitsec"),u=10,it(f=n.num_web)&&lt(f)>0&&(u=lt(n.num_web)),l.abrupt("return",e.map(r,(function(e){var r,n;return o.async((function(u){for(;;)switch(u.prev=u.next){case 0:return console.log("expBuild: "+e.name),r={headless:a,viewport:i,actions:e.actions,waitsec:c},u.next=4,o.awrap(yt(e.url,r));case 4:n=u.sent,e.fn_png&&t.writeFileSync(e.fn_png,n,"base64"),e.fn_base64&&t.writeFileSync(e.fn_base64,n,"utf8"),console.log("success: "+e.name);case 8:case"end":return u.stop()}}))}),{concurrency:u}).then((function(){console.log("[32m%s[0m","expBuild success")})).catch((function(e){console.log("[31m%s[0m","expBuild error: "+e)})));case 7:case"end":return l.stop()}var f}))}}));
//# sourceMappingURL=expBuild.umd.js.map
